{% extends 'base.html.twig' %}

{% block title %}Panier{% endblock %}

{% block body %}
    <h1>Panier</h1>

    {% if items|length > 0 %}

        <table>
            <tbody>
            {% for item in items %}
            <tr>
                <td><img src="{{ asset('uploads/images/products/' ~ item.produit.image)}}" class="card-img-top"  alt="{{ item.produit.name }}" style="width:50px;"/>
                </td>
                <td>
                    <p>
                       <b><u>{{ item.produit.name }}</u></b> <br>
                        <b>Cat√©gorie : </b> {{ item.produit.categorie.name }} <br>
                        <b>Prix : </b> {{ item.produit.price }} <br>
                    </p>
                    <p class="cart-delete">
                        <a href="{{ path('panier_remove_one', {'id' :  item.produit.id }) }}"><i
                                    class="fas fa-minus" data-product="{{ item.produit.id }}"></i></a>
                        <span class="cart-quantity">{{ item.quantite }}</span>
                        <a href="{{ path('panier_add', {'id' :  item.produit.id }) }}"><i
                                    class="fas fa-plus"></i></a>
                    </p>
                    <p><a href="{{ path('panier_remove', {'id' : item.produit.id}) }}" class="cart-delete">
                            Supprimer
                        </a></p>
                </td>
            </tr>
            {% endfor %}
            </tbody>
            <tfoot>
                <tr>
                    <td>Total</td>
                    <td>{{ totalPrix }}&euro;</td>
                </tr>
            </tfoot>
        </table>
    {% else %}
        <p>Vous n'avez pas de produits dans le panier</p>
    {% endif %}
{% endblock %}
